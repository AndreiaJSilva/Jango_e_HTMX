<div class="item item-detalhado" id="compra-{{ compra.id }}">
    <div class="info-basica">
        <span><strong>Cliente:</strong> {{ compra.cliente.nome }}</span>
        <span><strong>Medicamento:</strong> {{ compra.medicamento.nomeMedicamento }}</span>
        <span><strong>Data:</strong> {{ compra.data|date:"d/m/Y" }}</span>
        <span><strong>Valor:</strong> R$ {{ compra.valor }}</span>
    </div>
    
    <div class="info-detalhada">
        <span><strong>Quantidade:</strong> {{ compra.quantidade }}</span>
    </div>
    
    {% if user.is_authenticated %}
    <div class="acoes">
        <a href="#" 
           hx-get="{% url 'ocultar_detalhes_compra_htmx' compra.id %}"
           hx-target="#compra-{{ compra.id }}"
           hx-swap="outerHTML"
           class="btn-ocultar">Ocultar</a>
        <a href="#" 
           hx-get="{% url 'editar_compra_htmx' compra.id %}"
           hx-target="#compra-{{ compra.id }}"
           hx-swap="outerHTML"
           class="btn-editar">Editar</a>
        <a href="#" 
           hx-get="{% url 'excluir_compra_htmx' compra.id %}"
           hx-target="#compra-{{ compra.id }}"
           hx-swap="outerHTML"
           class="btn-excluir">Excluir</a>
    </div>
    {% else %}
    <div class="acoes">
        <a href="#" 
           hx-get="{% url 'ocultar_detalhes_compra_htmx' compra.id %}"
           hx-target="#compra-{{ compra.id }}"
           hx-swap="outerHTML"
           class="btn-ocultar">Ocultar</a>
    </div>
    {% endif %}
</div>